<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dylan Arm Chairs - The British Interiors</title>
  <link rel="icon" href="/images/logo.jpg" type="image/jpeg">
  <link rel="apple-touch-icon" href="/images/logo.jpg">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/basket.css">
  <link rel="stylesheet" href="/css/mobile.css">
  <link rel="stylesheet" href="/css/search-dropdown.css">
  <link rel="stylesheet" href="/css/product-mobile.css">
  <style>
    /* Main layout */
    .product-detail {
      display: grid;
      grid-template-columns: 1fr;
      gap: 2rem;
      max-width: 1200px;
      margin: 0 auto;
      padding: 1.5rem;
    }
    
    @media (min-width: 768px) {
      .product-detail {
        grid-template-columns: 1fr 1fr;
      }
    }
    
    /* Product gallery */
    .product-gallery {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      max-width: 500px;
      margin: 0 auto;
    }
    
    .main-image {
      width: 100%;
      height: 350px;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: transform 0.3s ease;
    }
    
    .main-image img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      transition: all 0.3s ease;
    }
    
    .thumbnail-gallery {
      display: flex;
      justify-content: center;
      gap: 0.75rem;
      padding: 0.5rem 0;
    }
    
    .thumbnail {
      width: 70px;
      height: 70px;
      border-radius: 8px;
      cursor: pointer;
      border: 2px solid transparent;
      overflow: hidden;
      transition: all 0.2s ease;
      box-shadow: 0 2px 6px rgba(0,0,0,0.05);
    }
    
    .thumbnail:hover {
      transform: translateY(-3px);
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    
    .thumbnail img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    
    .thumbnail.active {
      border-color: #0e4c92;
      transform: scale(1.05);
    }
    
    /* Product info */
    .product-info-detail {
      display: flex;
      flex-direction: column;
      gap: 1.25rem;
    }
    
    .product-title {
      font-size: 1.8rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
      color: #333;
      font-family: 'Playfair Display', serif;
    }
    
    .product-price {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      gap: 0.75rem;
      margin-bottom: 0.5rem;
    }
    
    .old-price {
      text-decoration: line-through;
      color: #777;
      font-size: 1.1rem;
    }
    
    .current-price {
      font-size: 1.6rem;
      font-weight: 600;
      color: #2e8b57;
    }
    
    .discount-badge {
      background-color: #ffedea;
      color: #e74c3c;
      padding: 0.25rem 0.5rem;
      border-radius: 4px;
      font-size: 0.8rem;
      font-weight: 500;
    }
    
    /* Color selection */
    .color-selection {
      margin: 1rem 0;
    }
    
    .color-selection h3 {
      margin-bottom: 0.75rem;
      font-size: 1rem;
      font-weight: 500;
      color: #555;
    }
    
    .color-options {
      display: flex;
      gap: 1rem;
      margin-bottom: 0.5rem;
    }
    
    .color-option {
      width: 2.5rem;
      height: 2.5rem;
      border-radius: 50%;
      cursor: pointer;
      border: 2px solid transparent;
      position: relative;
      transition: transform 0.2s ease, border-color 0.2s ease;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    
    .color-option:hover {
      transform: scale(1.1);
    }
    
    .color-option.grey {
      background-color: #888;
    }
    
    .color-option.beige {
      background-color: #f5f5dc;
    }
    
    .color-option.kgrey {
      background-color: #a9a9a9;
    }
    
    .color-option.mink {
      background-color: #704a44;
    }
    
    .color-option.blue {
      background-color: #375a7f;
    }
    
    .color-option.mustard {
      background-color: #e4d00a;
    }
    
    .color-option.silver {
      background-color: #c0c0c0;
    }
    
    .color-option.active {
      border-color: #0e4c92;
    }
    
    .color-option.active::after {
      content: "✓";
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: white;
      font-weight: bold;
      text-shadow: 0 0 2px rgba(0,0,0,0.8);
    }
    
    .selected-color {
      font-size: 0.9rem;
      color: #555;
      margin-top: 0.5rem;
    }
    
    /* Quantity controls */
    .quantity-control {
      margin: 1rem 0;
    }
    
    .quantity-control h3 {
      margin-bottom: 0.75rem;
      font-size: 1rem;
      font-weight: 500;
      color: #555;
    }
    
    .quantity-buttons {
      display: flex;
      align-items: center;
      width: fit-content;
      border: 1px solid #ddd;
      border-radius: 8px;
      overflow: hidden;
    }
    
    .quantity-btn {
      background-color: #f5f5f5;
      border: none;
      width: 40px;
      height: 40px;
      font-size: 1.2rem;
      font-weight: 700;
      color: #333;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background-color 0.2s ease;
    }
    
    .quantity-btn:hover {
      background-color: #e0e0e0;
    }
    
    .quantity-btn:active {
      background-color: #d0d0d0;
    }
    
    .quantity-value {
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 500;
      font-size: 1rem;
      background-color: white;
    }
    
    /* Total price */
    .total-price {
      background-color: #e6f0ff;
      padding: 1rem;
      border-radius: 8px;
      margin: 1rem 0;
    }
    
    .total-price h3 {
      display: flex;
      justify-content: space-between;
      font-size: 1.2rem;
      font-weight: 600;
      color: #0e4c92;
    }
    
    /* Action buttons */
    .action-buttons {
      display: flex;
      gap: 1rem;
      margin-top: 1.5rem;
    }
    
    .action-buttons button {
      flex: 1;
      padding: 1rem 0.5rem;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 0.5rem;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }
    
    .add-to-cart-btn {
      background-color: #0e4c92;
      color: white;
    }
    
    .add-to-cart-btn:hover {
      background-color: #0b3d78;
      transform: translateY(-2px);
      box-shadow: 0 6px 10px rgba(0,0,0,0.15);
    }
    
    .add-to-cart-btn:active {
      transform: translateY(0);
    }
    
    .buy-now-btn {
      background-color: #2e8b57;
      color: white;
    }
    
    .buy-now-btn:hover {
      background-color: #267349;
      transform: translateY(-2px);
      box-shadow: 0 6px 10px rgba(0,0,0,0.15);
    }
    
    .buy-now-btn:active {
      transform: translateY(0);
    }
    
    /* Product description */
    .product-description {
      margin: 1.5rem 0;
      padding: 1.5rem;
      background-color: #f8f9fa;
      border-radius: 8px;
    }
    
    .product-description p {
      margin-bottom: 1rem;
      color: #555;
    }
    
    .product-description ul {
      padding-left: 1.5rem;
      margin-bottom: 1rem;
    }
    
    .product-description li {
      margin-bottom: 0.5rem;
      color: #555;
    }
    
    /* Modal styling */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.6);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }
    
    .modal-overlay.show {
      opacity: 1;
      visibility: visible;
      display: flex !important;
    }
    
    /* Additional modal styling to ensure visibility */
    #buyNowModal.show {
      display: flex !important;
      opacity: 1 !important;
      visibility: visible !important;
    }
    
    .modal-content {
      background-color: white;
      padding: 2rem;
      border-radius: 12px;
      max-width: 600px;
      width: 90%;
      max-height: 90vh;
      overflow-y: auto;
      position: relative;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      transform: translateY(20px);
      transition: transform 0.3s ease;
    }
    
    .modal-overlay.show .modal-content {
      transform: translateY(0);
    }
    
    .close-modal {
      position: absolute;
      top: 1rem;
      right: 1rem;
      font-size: 1.5rem;
      cursor: pointer;
      color: #777;
      transition: color 0.2s ease;
    }
    
    .close-modal:hover {
      color: #333;
    }
    
    /* Delivery options */
    .delivery-options {
      margin: 1rem 0 2rem;
    }
    
    .delivery-options h2 {
      font-size: 1.5rem;
      margin-bottom: 1.5rem;
      color: #333;
    }
    
    .delivery-option {
      display: flex;
      align-items: flex-start;
      margin-bottom: 1rem;
      padding: 1rem;
      border: 1px solid #ddd;
      border-radius: 8px;
      transition: all 0.2s ease;
    }
    
    .delivery-option:hover {
      border-color: #0e4c92;
      background-color: #f8f9fa;
    }
    
    .delivery-option input {
      margin: 0.25rem 1rem 0 0;
      transform: scale(1.2);
    }
    
    .delivery-option label {
      flex: 1;
    }
    
    .delivery-option strong {
      display: block;
      margin-bottom: 0.25rem;
      color: #333;
    }
    
    .delivery-option p {
      font-size: 0.9rem;
      color: #777;
      margin: 0;
    }
    
    /* Order form */
    .order-form {
      max-width: 100%;
      margin: 0;
      padding: 0;
    }
    
    .order-form h2 {
      font-size: 1.5rem;
      margin-bottom: 1.5rem;
      color: #333;
    }
    
    .form-group {
      margin-bottom: 1.25rem;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 500;
      color: #555;
      font-size: 0.95rem;
    }
    
    .form-group input, 
    .form-group textarea {
      width: 100%;
      padding: 0.875rem;
      border-radius: 8px;
      border: 1px solid #ddd;
      font-family: inherit;
      font-size: 1rem;
      transition: border-color 0.2s ease;
    }
    
    .form-group input:focus, 
    .form-group textarea:focus {
      border-color: #0e4c92;
      outline: none;
    }
    
    /* Order summary */
    .order-summary {
      margin: 1.5rem 0;
      padding: 1.25rem;
      background-color: #f8f9fa;
      border-radius: 8px;
    }
    
    .order-summary h3 {
      font-size: 1.1rem;
      margin-bottom: 1rem;
      color: #333;
      border-bottom: 1px solid #ddd;
      padding-bottom: 0.5rem;
    }
    
    .order-summary p {
      display: flex;
      justify-content: space-between;
      margin-bottom: 0.5rem;
      font-size: 0.95rem;
    }
    
    .order-summary p:last-child {
      font-weight: 600;
      color: #0e4c92;
      margin-top: 0.5rem;
      padding-top: 0.5rem;
      border-top: 1px solid #ddd;
    }
    
    /* Thank you message */
    .thank-you {
      text-align: center;
      padding: 1rem;
    }
    
    .thank-you h2 {
      font-size: 1.5rem;
      margin-bottom: 1rem;
      color: #2e8b57;
    }
    
    .thank-you p {
      color: #555;
      margin-bottom: 0.75rem;
    }
    
    /* WhatsApp contact */
    .whatsapp-contact {
      margin-top: 2rem;
      text-align: center;
      padding: 1rem;
      background-color: #f0f8f0;
      border-radius: 8px;
    }
    
    .whatsapp-contact p {
      margin-bottom: 1rem;
      color: #555;
    }
    
    /* Override the global whatsapp-btn for inline buttons */
    .whatsapp-contact .whatsapp-btn {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.75rem 1.5rem;
      border-radius: 50px;
      position: static;
      width: auto;
      height: auto;
    }
    
    /* Helper classes */
    .btn-icon {
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }
    
    /* WhatsApp Custom Order Section */
    .whatsapp-custom-order {
      margin: 2rem 0;
      text-align: center;
      padding: 1.5rem;
      background-color: #f8f9fa;
      border-radius: 8px;
      border: 1px solid #eee;
    }
    
    .whatsapp-custom-order p {
      color: #555;
      font-weight: 500;
      margin-bottom: 1rem;
      line-height: 1.6;
    }
    
    .whatsapp-button {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      background-color: #25D366;
      color: white;
      font-weight: 600;
      padding: 0.75rem 1.5rem;
      border-radius: 50px;
      text-decoration: none;
      transition: all 0.3s ease;
      box-shadow: 0 4px 8px rgba(37, 211, 102, 0.25);
    }
    
    .whatsapp-button:hover {
      background-color: #1ea952;
      transform: translateY(-2px) scale(1.03);
      box-shadow: 0 6px 12px rgba(37, 211, 102, 0.35);
    }
    
    .whatsapp-button:active {
      transform: translateY(0);
    }
    
    .whatsapp-button i {
      font-size: 1.2rem;
    }
    
    /* Customer Reviews Styling */
    .customer-reviews {
      margin: 2rem 0 3rem;
      padding: 1.5rem;
      background-color: #f8f9fa;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    }
    
    .reviews-title {
      font-size: 1.6rem;
      font-weight: 600;
      margin-bottom: 1.5rem;
      color: #333;
      font-family: 'Playfair Display', serif;
      border-bottom: 1px solid #ddd;
      padding-bottom: 0.75rem;
    }
    
    .reviews-summary {
      display: flex;
      flex-wrap: wrap;
      gap: 2rem;
      margin-bottom: 2rem;
      padding-bottom: 1rem;
      border-bottom: 1px solid #eaeaea;
    }
    
    .average-rating {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-width: 150px;
    }
    
    .rating-number {
      font-size: 2.5rem;
      font-weight: 700;
      color: #0e4c92;
      line-height: 1;
      margin-bottom: 0.5rem;
    }
    
    .stars {
      color: #f8ce0b;
      font-size: 1.2rem;
      margin-bottom: 0.5rem;
    }
    
    .total-reviews {
      color: #777;
      font-size: 0.9rem;
    }
    
    .rating-bars {
      flex: 1;
      max-width: 400px;
    }
    
    .rating-bar {
      display: flex;
      align-items: center;
      margin-bottom: 0.5rem;
    }
    
    .rating-label {
      width: 25px;
      text-align: right;
      margin-right: 10px;
      color: #777;
    }
    
    .bar-container {
      flex: 1;
      height: 12px;
      background-color: #e9ecef;
      border-radius: 10px;
      overflow: hidden;
      margin: 0 10px;
    }
    
    .bar {
      height: 100%;
      background-color: #0e4c92;
      border-radius: 10px;
    }
    
    .count {
      width: 25px;
      color: #777;
      font-size: 0.9rem;
    }
    
    .reviews-container {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 1.5rem;
      margin-bottom: 1.5rem;
      max-height: 800px;
      overflow-y: auto;
      padding-right: 10px;
    }
    
    .review-card {
      background-color: white;
      border-radius: 8px;
      padding: 1.25rem;
      box-shadow: 0 2px 6px rgba(0,0,0,0.05);
      transition: all 0.2s ease;
    }
    
    .review-card:hover {
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      transform: translateY(-3px);
    }
    
    .review-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 0.75rem;
    }
    
    .reviewer {
      display: flex;
      align-items: center;
    }
    
    .avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background-color: #0e4c92;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      margin-right: 0.75rem;
      font-size: 0.9rem;
    }
    
    .reviewer-name {
      font-weight: 500;
      color: #444;
    }
    
    .review-rating {
      color: #f8ce0b;
      font-size: 0.9rem;
    }
    
    .review-date {
      color: #777;
      font-size: 0.85rem;
      margin-bottom: 0.75rem;
    }
    
    .review-content p {
      color: #555;
      font-size: 0.95rem;
      line-height: 1.5;
      margin: 0;
    }
    
    .reviews-pagination {
      display: flex;
      justify-content: center;
      gap: 0.5rem;
      margin-top: 1.5rem;
    }
    
    .pagination-btn {
      width: 35px;
      height: 35px;
      border-radius: 50%;
      border: 1px solid #ddd;
      background-color: white;
      color: #555;
      font-weight: 500;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s ease;
    }
    
    .pagination-btn:hover {
      background-color: #f2f2f2;
    }
    
    .pagination-btn.active {
      background-color: #0e4c92;
      color: white;
      border-color: #0e4c92;
    }
    
    @media (max-width: 768px) {
      .reviews-summary {
        flex-direction: column;
        gap: 1rem;
      }
      
      .average-rating {
        align-items: flex-start;
      }
      
      .reviews-container {
        grid-template-columns: 1fr;
        max-height: 600px;
      }
    }
  </style>
</head>
<body>
  <!-- Top Announcement Bar -->
  <div class="announcement-bar">
    <div class="announcement-content">
      <span>Free delivery on orders over £1000. £30 for standard service and £50 for next day service.</span>
    </div>
  </div>

  <!-- Header Section -->
  <header class="main-header">
    <!-- Mobile Menu Toggle Button (visible only on mobile) -->
    <button class="mobile-menu-toggle" aria-label="Toggle navigation menu">
      <i class="fas fa-bars"></i>
    </button>
    
    <div class="logo-container">
      <a href="/" class="home-link">
        <div class="logo">
          <img src="/images/logo.jpg" alt="The British Interiors Logo">
        </div>
        <h1 class="site-title">The British Interiors</h1>
      </a>
    </div>
    <nav class="main-nav">
      <ul>
        <li><a href="/">Home</a></li>
        <li><a href="/#arm-chair">Arm Chair</a></li>
        <li><a href="/products/basket.html">Cart</a></li>
        <li><a href="/#contact">Contact Us</a></li>
        <li class="search-container">
          <form class="search-form">
            <input type="text" placeholder="Search..." class="search-input">
            <button type="submit" class="search-button">
              <i class="fas fa-search"></i>
            </button>
          </form>
        </li>
      </ul>
    </nav>
  </header>

  <!-- Main Content -->
  <main class="main-content">
    <!-- Product Detail -->
    <section class="product-detail-section">
      <div class="container">
        <a href="/" class="back-btn">
          <span class="back-arrow">←</span> Back to Home
        </a>
        
        <div class="product-detail">
          <!-- Product Gallery -->
          <div class="product-gallery">
            <div class="main-image">
              <img src="/images/Arm Chair/d/jumbobeigh.jpg" alt="Dylan Arm Chairs" id="mainImage">
            </div>
            <div class="thumbnail-gallery">
              <div class="thumbnail" data-image="/images/Arm Chair/d/jgrey.jpg">
                <img src="/images/Arm Chair/d/jgrey.jpg" alt="Grey Dylan Arm Chair">
              </div>
              <div class="thumbnail active" data-image="/images/Arm Chair/d/jumbobeigh.jpg">
                <img src="/images/Arm Chair/d/jumbobeigh.jpg" alt="Jumbo Beige Dylan Arm Chair">
              </div>
              <div class="thumbnail" data-image="/images/Arm Chair/d/kgrey.jpg">
                <img src="/images/Arm Chair/d/kgrey.jpg" alt="Kingston Grey Dylan Arm Chair">
              </div>
              <div class="thumbnail" data-image="/images/Arm Chair/d/kmink.jpg">
                <img src="/images/Arm Chair/d/kmink.jpg" alt="Mink Dylan Arm Chair">
              </div>
              <div class="thumbnail" data-image="/images/Arm Chair/d/pblue.jpg">
                <img src="/images/Arm Chair/d/pblue.jpg" alt="Blue Dylan Arm Chair">
              </div>
              <div class="thumbnail" data-image="/images/Arm Chair/d/pmustard.jpg">
                <img src="/images/Arm Chair/d/pmustard.jpg" alt="Mustard Dylan Arm Chair">
              </div>
              <div class="thumbnail" data-image="/images/Arm Chair/d/splush.jpg">
                <img src="/images/Arm Chair/d/splush.jpg" alt="Silver Dylan Arm Chair">
              </div>
              <div class="thumbnail" data-image="/images/Arm Chair/d/size.jpg">
                <img src="/images/Arm Chair/d/size.jpg" alt="Size Chart">
              </div>
            </div>
          </div>
          
          <!-- Product Info -->
          <div class="product-info-detail">
            <h1 class="product-title">Dylan Arm Chairs</h1>
            <div class="product-price">
              <span class="old-price">£280</span>
              <span class="current-price">£230</span>
              <span class="discount-badge">SAVE £50</span>
            </div>
            
            <div class="color-selection">
              <h3>Select Color:</h3>
              <div class="color-options">
                <div class="color-option grey" data-color="Grey" data-image="/images/Arm Chair/d/jgrey.jpg"></div>
                <div class="color-option beige active" data-color="Jumbo Beige" data-image="/images/Arm Chair/d/jumbobeigh.jpg"></div>
                <div class="color-option kgrey" data-color="Kingston Grey (Ashgrey)" data-image="/images/Arm Chair/d/kgrey.jpg"></div>
                <div class="color-option mink" data-color="Mink" data-image="/images/Arm Chair/d/kmink.jpg"></div>
                <div class="color-option blue" data-color="Blue" data-image="/images/Arm Chair/d/pblue.jpg"></div>
                <div class="color-option mustard" data-color="Mustard" data-image="/images/Arm Chair/d/pmustard.jpg"></div>
                <div class="color-option silver" data-color="Silver" data-image="/images/Arm Chair/d/splush.jpg"></div>
              </div>
              <div class="selected-color">Selected Color: <span id="selectedColorText">Jumbo Beige</span></div>
            </div>
            
            <div class="quantity-control">
              <h3>Quantity:</h3>
              <div class="quantity-buttons">
                <button class="quantity-btn minus-btn">-</button>
                <div class="quantity-value">1</div>
                <button class="quantity-btn plus-btn">+</button>
              </div>
            </div>
            
            <div class="total-price">
              <h3>Total Price: <span id="totalPrice">£230</span></h3>
            </div>
            <div class="action-buttons">
              <button class="add-to-cart-btn" id="addToCartBtn" data-product-id="dylan-arm-chair" data-price="230">
                <i class="fas fa-shopping-cart"></i> Add to Basket
              </button>
              <button class="buy-now-btn" id="buyNowBtn">
                <i class="fas fa-bolt"></i> Buy Now
              </button>
            </div>
            
            <!-- WhatsApp Custom Order Message -->
            <div class="whatsapp-custom-order">
              <p>If you want any customized sofa or if you want to book your order through WhatsApp, contact us on WhatsApp.</p>
              <a href="https://wa.me/447351898651" class="whatsapp-button" target="_blank" rel="noopener noreferrer">
                <i class="fab fa-whatsapp"></i> Message Us on WhatsApp
              </a>
            </div>
            
            <div class="product-description">
              <h3>Product Description</h3>
              <p>The Dylan Arm Chair is a perfect complement to your living space, offering both style and comfort in a compact design. Crafted with high-quality materials and attention to detail, this arm chair provides exceptional comfort while adding a touch of elegance to any room.</p>
              <p>Whether you're looking for a standalone accent piece or a matching addition to your Dylan sofa collection, this arm chair delivers on both aesthetics and functionality.</p>
              <ul class="features-list">
                <li>Premium construction with solid wood frame for durability</li>
                <li>High-density foam padding for superior comfort</li>
                <li>Available in multiple upholstery color options</li>
                <li>Compact size perfect for smaller spaces or as complementary seating</li>
                <li>Easy assembly with included instructions</li>
                <li>Free delivery to mainland UK</li>
              </ul>
              <p class="disclaimer">Note: Actual colors may vary slightly due to differences in screen display settings. All dimensions are approximate. Please allow 5-7 business days for delivery.</p>
            </div>
            
            <!-- Customer Reviews Section -->
            <div class="customer-reviews">
              <h2 class="reviews-title">Customer Reviews</h2>
              <div class="reviews-summary">
                <div class="average-rating">
                  <span class="rating-number">4.7</span>
                  <div class="stars">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star-half-alt"></i>
                  </div>
                  <span class="total-reviews">18 reviews</span>
                </div>
                <div class="rating-bars">
                  <div class="rating-bar">
                    <span class="rating-label">5</span>
                    <div class="bar-container">
                      <div class="bar" style="width: 65%"></div>
                    </div>
                    <span class="count">12</span>
                  </div>
                  <div class="rating-bar">
                    <span class="rating-label">4</span>
                    <div class="bar-container">
                      <div class="bar" style="width: 25%"></div>
                    </div>
                    <span class="count">4</span>
                  </div>
                  <div class="rating-bar">
                    <span class="rating-label">3</span>
                    <div class="bar-container">
                      <div class="bar" style="width: 10%"></div>
                    </div>
                    <span class="count">2</span>
                  </div>
                  <div class="rating-bar">
                    <span class="rating-label">2</span>
                    <div class="bar-container">
                      <div class="bar" style="width: 0%"></div>
                    </div>
                    <span class="count">0</span>
                  </div>
                  <div class="rating-bar">
                    <span class="rating-label">1</span>
                    <div class="bar-container">
                      <div class="bar" style="width: 0%"></div>
                    </div>
                    <span class="count">0</span>
                  </div>
                </div>
              </div>
              
                            <div class="reviews-container">                <!-- 5 Star Reviews -->                <div class="review-card">                  <div class="review-header">                    <div class="reviewer">                      <div class="avatar">JS</div>                      <div class="reviewer-name">James S.</div>                    </div>                    <div class="review-rating">                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                    </div>                  </div>                  <div class="review-date">Purchased 3 months ago</div>                  <div class="review-content">                    <p>Super comfortable and looks amazing in my living room. The velvet material is luxurious and the color is exactly as shown in the pictures. Assembly was straightforward and the chair feels very sturdy. Highly recommend!</p>                  </div>                </div>                                <div class="review-card">                  <div class="review-header">                    <div class="reviewer">                      <div class="avatar">EM</div>                      <div class="reviewer-name">Emma M.</div>                    </div>                    <div class="review-rating">                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                    </div>                  </div>                  <div class="review-date">Purchased 1 month ago</div>                  <div class="review-content">                    <p>We love our new Dylan arm chair! The crush velvet is beautiful and feels really luxurious. It's been perfect for my reading corner. The delivery team was also very professional.</p>                  </div>                </div>                                <div class="review-card">                  <div class="review-header">                    <div class="reviewer">                      <div class="avatar">RT</div>                      <div class="reviewer-name">Ryan T.</div>                    </div>                    <div class="review-rating">                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                    </div>                  </div>                  <div class="review-date">Purchased 2 months ago</div>                  <div class="review-content">                    <p>Fabric is soft and durable. Happy with the purchase. This chair has transformed our living space and become a favorite spot in our home. The cushions are the perfect balance of soft yet supportive.</p>                  </div>                </div>                                <div class="review-card">                  <div class="review-header">                    <div class="reviewer">                      <div class="avatar">LB</div>                      <div class="reviewer-name">Lisa B.</div>                    </div>                    <div class="review-rating">                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                    </div>                  </div>                  <div class="review-date">Purchased 4 months ago</div>                  <div class="review-content">                    <p>Absolutely worth every penny! The color is gorgeous and it fits perfectly in our space. Very happy with this purchase and would buy from The British Interiors again.</p>                  </div>                </div>                                <div class="review-card">                  <div class="review-header">                    <div class="reviewer">                      <div class="avatar">AK</div>                      <div class="reviewer-name">Alex K.</div>                    </div>                    <div class="review-rating">                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                    </div>                  </div>                  <div class="review-date">Purchased 2 months ago</div>                  <div class="review-content">                    <p>Extremely comfortable and stylish. The delivery was quick and the setup was hassle-free. The velvet material is easy to clean which is great for our household with kids and pets. Couldn't be happier!</p>                  </div>                </div>                                <div class="review-card">                  <div class="review-header">                    <div class="reviewer">                      <div class="avatar">NP</div>                      <div class="reviewer-name">Nina P.</div>                    </div>                    <div class="review-rating">                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                    </div>                  </div>                  <div class="review-date">Purchased 3 months ago</div>                  <div class="review-content">                    <p>The quality exceeded my expectations. This chair is both beautiful and functional. The cushions retain their shape well even after daily use. Very pleased with this purchase and the customer service I received.</p>                  </div>                </div>                                <!-- 4 Star Reviews -->                <div class="review-card">                  <div class="review-header">                    <div class="reviewer">                      <div class="avatar">MD</div>                      <div class="reviewer-name">Monica D.</div>                    </div>                    <div class="review-rating">                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                      <i class="far fa-star"></i>                    </div>                  </div>                  <div class="review-date">Purchased 2 months ago</div>                  <div class="review-content">                    <p>Great build quality but delivery took a bit longer than expected. The chair itself is comfortable and looks elegant in our living room. Just taking off one star for the delay in delivery.</p>                  </div>                </div>                                <div class="review-card">                  <div class="review-header">                    <div class="reviewer">                      <div class="avatar">JT</div>                      <div class="reviewer-name">John T.</div>                    </div>                    <div class="review-rating">                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                      <i class="far fa-star"></i>                    </div>                  </div>                  <div class="review-date">Purchased 1 month ago</div>                  <div class="review-content">                    <p>Very comfortable chair that looks premium. The only minor issue is that the color is slightly different from what I expected based on the website images. Still very happy with it overall.</p>                  </div>                </div>                                <div class="review-card">                  <div class="review-header">                    <div class="reviewer">                      <div class="avatar">SP</div>                      <div class="reviewer-name">Sarah P.</div>                    </div>                    <div class="review-rating">                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                      <i class="far fa-star"></i>                    </div>                  </div>                  <div class="review-date">Purchased 2 months ago</div>                  <div class="review-content">                    <p>I absolutely love the look of this chair, and it's mostly comfortable, but I wish the seat was a bit deeper. Still, the quality is excellent for the price and it was delivered earlier than expected.</p>                  </div>                </div>                                <div class="review-card">                  <div class="review-header">                    <div class="reviewer">                      <div class="avatar">MR</div>                      <div class="reviewer-name">Mike R.</div>                    </div>                    <div class="review-rating">                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                      <i class="far fa-star"></i>                    </div>                  </div>                  <div class="review-date">Purchased 1 month ago</div>                  <div class="review-content">                    <p>The chair looks fantastic and the material feels premium. Very comfortable to sit on. Would've given 5 stars but the cushions are a bit firmer than I personally prefer. Overall still very satisfied.</p>                  </div>                </div>                                <!-- 3 Star Reviews -->                <div class="review-card">                  <div class="review-header">                    <div class="reviewer">                      <div class="avatar">KL</div>                      <div class="reviewer-name">Kevin L.</div>                    </div>                    <div class="review-rating">                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                      <i class="far fa-star"></i>                      <i class="far fa-star"></i>                    </div>                  </div>                  <div class="review-date">Purchased 3 months ago</div>                  <div class="review-content">                    <p>Looks good but seat depth could be better. The quality of the chair is decent for the price, but I find the seat not deep enough for my preference. The velvet material does look nice though.</p>                  </div>                </div>                                <div class="review-card">                  <div class="review-header">                    <div class="reviewer">                      <div class="avatar">FG</div>                      <div class="reviewer-name">Fiona G.</div>                    </div>                    <div class="review-rating">                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                      <i class="far fa-star"></i>                      <i class="far fa-star"></i>                    </div>                  </div>                  <div class="review-date">Purchased 2 months ago</div>                  <div class="review-content">                    <p>The chair looks nice but isn't as comfortable as I hoped. The cushions are quite firm and I needed to add extra pillows. Delivery was prompt and assembly was easy, which is why I'm giving 3 stars.</p>                  </div>                </div>                                <div class="review-card">                  <div class="review-header">                    <div class="reviewer">                      <div class="avatar">BR</div>                      <div class="reviewer-name">Ben R.</div>                    </div>                    <div class="review-rating">                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                      <i class="fas fa-star"></i>                      <i class="far fa-star"></i>                      <i class="far fa-star"></i>                    </div>                  </div>                  <div class="review-date">Purchased 3 months ago</div>                  <div class="review-content">                    <p>Average quality for the price point. The chair looks good but after a few months of use, the cushions are starting to lose their shape. The color is nice and as shown in the pictures, but durability seems questionable.</p>                  </div>                </div>              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Remove duplicate customer reviews section -->

  </main>

  <!-- Footer Section -->
  <footer id="contact" class="footer">
    <div class="footer-info">
      <div class="footer-logo">
        <img src="/images/logo.jpg" alt="The British Interiors Logo">
        <h3>The British Interiors</h3>
        <p>Quality British-made furniture for your home.</p>
      </div>
      <div class="footer-links">
        <h4>Quick Links</h4>
        <ul>
          <li><a href="/">Home</a></li>
          <li><a href="/#arm-chair">Arm Chair</a></li>
          <li><a href="/products/basket.html">Cart</a></li>
          <li><a href="/#contact">Contact Us</a></li>
        </ul>
      </div>
      <div class="footer-contact">
        <h4>Contact Info</h4>
        <p><i class="fas fa-map-marker-alt"></i> Nottingham, England, NG7 7LJ, United Kingdom </p>
        <p><i class="fas fa-phone"></i> +44 7351 898651</p>
        <p><i class="fas fa-clock"></i> Mon-Sat: 24/7</p>
      </div>
          <div class="footer-social">
        <h4>Follow Us</h4>
        <p>Give us reviews on TikTok and Instagram</p>
        <div class="social-links">
          <a href="https://www.tiktok.com/@thebritishinterior" target="_blank" aria-label="TikTok">
            <i class="fab fa-tiktok"></i>
          </a>
          <a href="https://www.instagram.com/thebritish_interiors" target="_blank" aria-label="Instagram">
            <i class="fab fa-instagram"></i>
          </a>
        </div>
      </div>
    </div>
    <div class="copyright">
      <p>&copy; 2025 The British Interiors. All Rights Reserved.</p>
    </div>
  </footer>

  <!-- Basket Button -->
  <a href="/products/basket.html" class="basket-btn" title="View your basket">
    <svg class="basket-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z" 
            fill="currentColor"/>
    </svg>
    <span class="basket-count">0</span>
  </a>

  <!-- WhatsApp Chat Support Button -->
  <a href="https://wa.me/447351898651" 
     class="whatsapp-btn" 
     target="_blank" 
     rel="noopener noreferrer" 
     title="Need help? Chat with us on WhatsApp">
    <svg class="whatsapp-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z" 
            fill="currentColor"/>
    </svg>
  </a>

  <!-- Modal Overlay for Buy Now -->
  <div class="modal-overlay" id="buyNowModal">
    <div class="modal-content">
      <span class="close-modal" id="closeModal">&times;</span>
      <div class="delivery-options" id="deliveryOptions">
        <h2>Select Delivery Option</h2>
        <div class="delivery-option">
          <input type="radio" id="standard" name="delivery" value="standard" checked>
          <label for="standard">
            <strong>Standard Delivery - £30</strong>
            <p>Delivery within 7-10 business days.</p>
          </label>
        </div>
        <div class="delivery-option">
          <input type="radio" id="express" name="delivery" value="express">
          <label for="express">
            <strong>Express Delivery - £50</strong>
            <p>Delivery within 3-5 business days.</p>
          </label>
        </div>
        <button id="continueToOrder" class="buy-now-btn" style="width: 100%; margin-top: 20px;">
          <i class="fas fa-arrow-right"></i> Continue to Order Details
        </button>
      </div>
      
      <div class="order-form" id="orderForm" style="display: none;">
        <h2>Your Details</h2>
        <div id="orderFormElement">
          <div class="form-group">
            <label for="name">Full Name</label>
            <input type="text" id="name" name="name" required>
          </div>
          <div class="form-group">
            <label for="contact">Contact No</label>
            <input type="tel" id="phone" name="contact" required>
          </div>
          <div class="form-group">
            <label for="email">Email Address</label>
            <input type="email" id="email" name="email" required>
          </div>
          <div class="form-group">
            <label for="address">Delivery Address</label>
            <textarea id="address" name="address" rows="3" required></textarea>
          </div>
          <div class="form-group">
            <label for="postcode">Postcode</label>
            <input type="text" id="postcode" name="postcode" required>
          </div>
          <div class="form-group">
            <label for="deliveryDate">Preferred Delivery Date (optional)</label>
            <input type="date" id="deliveryDate" name="deliveryDate">
          </div>
          
          <div class="order-summary" id="orderSummary">
            <h3>Order Summary</h3>
            <p><strong>Product:</strong> <span id="summaryProduct">Dylan Arm Chairs (Jumbo Beige)</span></p>
            <p><strong>Color:</strong> <span id="summaryColor">Jumbo Beige</span></p>
            <p><strong>Quantity:</strong> <span id="summaryQuantity">1</span></p>
            <p><strong>Delivery:</strong> <span id="summaryDelivery">Standard (£30)</span></p>
            <p><strong>Total:</strong> <span id="summaryTotal">£260</span></p>
          </div>
          
          <button type="button" id="placeOrder" class="buy-now-btn" style="width: 100%;">
            <i class="fas fa-check"></i> Place Order
          </button>
        </div>
      </div>
      
      <div class="thank-you" id="thankYou" style="display: none;">
        <h2><i class="fas fa-check-circle"></i> Thank You For Your Order!</h2>
        <p>Your order has been placed successfully.</p>
        <p>We will contact you shortly to confirm your order details.</p>
        
        <div class="whatsapp-contact">
          <p>If you want any customized chair or want to book via WhatsApp, contact us.</p>
          <a href="https://wa.me/447351898651" class="whatsapp-btn" target="_blank">
            <i class="fab fa-whatsapp"></i> Contact on WhatsApp
          </a>
        </div>
      </div>
    </div>
  </div>

  <script src="/js/script.js"></script>
  <script src="/js/basket.js"></script>
  <script src="/js/mobile-menu.js"></script>
  <script src="/socket.io/socket.io.js"></script>
  <script src="/js/order-utils.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Main elements
      const mainImage = document.getElementById('mainImage');
      const thumbnails = document.querySelectorAll('.thumbnail');
      const colorOptions = document.querySelectorAll('.color-option');
      const selectedColorSpan = document.getElementById('selectedColorText');
      const totalPriceSpan = document.getElementById('totalPrice');
      const addToCartBtn = document.getElementById('addToCartBtn');
      const buyNowBtn = document.getElementById('buyNowBtn');
      const quantityBtns = document.querySelectorAll('.quantity-btn');
      const quantityValue = document.querySelector('.quantity-value');
      
      // Modal elements
      const buyNowModal = document.getElementById('buyNowModal');
      const closeModalBtn = document.getElementById('closeModal');
      const deliveryOptions = document.getElementById('deliveryOptions');
      const orderForm = document.getElementById('orderForm');
      const thankYou = document.getElementById('thankYou');
      const continueToOrderBtn = document.getElementById('continueToOrder');
      const placeOrderBtn = document.getElementById('placeOrder');
      
      // Set product details
      const product = {
        name: 'Dylan Arm Chairs',
        basePrice: 230,
        color: 'Jumbo Beige',
        image: '/images/Arm Chair/d/jumbobeigh.jpg'
      };
      
      // Initialize variables
      let selectedColor = 'Jumbo Beige';
      let selectedColorImage = '/images/Arm Chair/d/jumbobeigh.jpg';
      let quantity = 1;
      
      // Update total price based on quantity
      function updateTotalPrice() {
        const totalPrice = product.basePrice * quantity;
        totalPriceSpan.textContent = `£${totalPrice}`;
        
        // Update order summary in modal if it exists
        const orderSummaryPrice = document.querySelector('.order-summary p:first-child span:last-child');
        if (orderSummaryPrice) {
          orderSummaryPrice.textContent = `£${totalPrice}`;
          
          // Also update the total with delivery
          const deliveryFee = document.querySelector('input[name="delivery"]:checked') ? 
            (document.querySelector('input[name="delivery"]:checked').value === 'standard' ? 30 : 50) : 30;
          document.getElementById('summaryTotal').textContent = `£${totalPrice + deliveryFee}`;
        }
      }
      
      // Quantity controls
      quantityBtns.forEach(btn => {
        btn.addEventListener('click', function() {
          if (this.classList.contains('minus-btn') && quantity > 1) {
            quantity--;
          } else if (this.classList.contains('plus-btn')) {
            quantity++;
          }
          
          // Update UI
          quantityValue.textContent = quantity;
          updateTotalPrice();
          
          // Update data attributes for basket.js
          addToCartBtn.setAttribute('data-quantity', quantity);
        });
      });
      
      // Set active thumbnail and update main image
      thumbnails.forEach(thumbnail => {
        thumbnail.addEventListener('click', function() {
          thumbnails.forEach(t => t.classList.remove('active'));
          this.classList.add('active');
          
          const newImageSrc = this.getAttribute('data-image');
          mainImage.src = newImageSrc;
        });
      });
      
      // Handle color selection
      colorOptions.forEach(option => {
        option.addEventListener('click', function() {
          colorOptions.forEach(o => o.classList.remove('active'));
          this.classList.add('active');
          
          selectedColor = this.getAttribute('data-color');
          selectedColorImage = this.getAttribute('data-image');
          selectedColorSpan.textContent = selectedColor;
          
          // Update main image
          mainImage.src = selectedColorImage;
          
          // Find and activate the corresponding thumbnail
          thumbnails.forEach(thumb => {
            if (thumb.getAttribute('data-image') === selectedColorImage) {
              thumbnails.forEach(t => t.classList.remove('active'));
              thumb.classList.add('active');
            }
          });
          
          // Update order summary in modal
          const summaryColor = document.querySelector('.order-summary p:first-child span:first-child');
          if (summaryColor) {
            summaryColor.textContent = `Dylan Arm Chairs (${selectedColor})`;
          }
          
          // Update data attributes for basket.js
          addToCartBtn.setAttribute('data-color', selectedColor);
        });
      });
      
      // Add to basket functionality
      addToCartBtn.addEventListener('click', function(event) {
        // Prevent default behavior and stop event propagation
        event.preventDefault();
        event.stopPropagation();
        
        // We'll let basket.js handle this functionality as in dylan-sofa1.html
        // This will ensure consistency across all product pages
        
        // Calling addToBasket from basket.js directly would be cleaner,
        // but since we can't guarantee it's loaded yet, we'll trigger a click event
        // that will be handled by the event listener added by basket.js
        // No need to do anything else here
      });
      
      // Buy Now functionality
      buyNowBtn.addEventListener('click', function() {
        console.log('Buy Now button clicked');
        
        // Make sure modal exists
        if (!buyNowModal) {
          console.error('Buy Now Modal not found');
          return;
        }
        
        // Show delivery options
        if (deliveryOptions) {
          deliveryOptions.style.display = 'block';
        } else {
          console.error('Delivery options not found');
        }
        
        // Hide other sections
        if (orderForm) orderForm.style.display = 'none';
        if (thankYou) thankYou.style.display = 'none';
        
        // Display modal with improved visibility
        buyNowModal.style.display = 'flex';
        buyNowModal.style.opacity = '1';
        buyNowModal.style.visibility = 'visible';
        buyNowModal.classList.add('show');
        document.body.style.overflow = 'hidden'; // Prevent scrolling
        
        // Force modal to be visible with a slight delay
        setTimeout(function() {
          buyNowModal.style.display = 'flex';
          buyNowModal.style.opacity = '1';
          buyNowModal.style.visibility = 'visible';
        }, 50);
      });
      
      function closeModalFunc() {
        buyNowModal.classList.remove('show');
        setTimeout(() => {
          buyNowModal.style.display = 'none';
          document.body.style.overflow = '';
        }, 300);
      }
      
      closeModalBtn.addEventListener('click', closeModalFunc);
      
      window.addEventListener('click', function(event) {
        if (event.target === buyNowModal) {
          closeModalFunc();
        }
      });
      
      // Continue to order form
      continueToOrderBtn.addEventListener('click', function() {
        deliveryOptions.style.display = 'none';
        orderForm.style.display = 'block';
        
        // Update summary
        document.getElementById('summaryProduct').textContent = `Dylan Arm Chairs`;
        document.getElementById('summaryColor').textContent = selectedColor;
        document.getElementById('summaryQuantity').textContent = quantity;
        document.getElementById('summaryDelivery').textContent = document.querySelector('input[name="delivery"]:checked').value === 'standard' ? 'Standard (£30)' : 'Premium (£50)';
        
        const deliveryFee = document.querySelector('input[name="delivery"]:checked').value === 'standard' ? 30 : 50;
        document.getElementById('summaryTotal').textContent = `£${(product.basePrice * quantity) + deliveryFee}`;
      });
      
      // Place order
      placeOrderBtn.addEventListener('click', function(event) {
        event.preventDefault();
        
        const name = document.getElementById('name').value;
        const phone = document.getElementById('phone').value;
        const email = document.getElementById('email').value;
        const postcode = document.getElementById('postcode').value;
        const address = document.getElementById('address').value;
        
        // Validate form
        if (!name || !phone || !postcode || !address) {
          alert('Please fill in all required fields');
          return;
        }
        
        // Create order object
        const deliveryFee = document.querySelector('input[name="delivery"]:checked').value === 'standard' ? 30 : 50;
        const totalPrice = (product.basePrice * quantity) + deliveryFee;
        
        const order = {
          id: 'order-' + Date.now(),
          name: name,
          contact: phone,
          email: email,
          phone: phone,
          postcode: postcode,
          address: address,
          deliveryDate: document.getElementById('deliveryDate').value,
          product: `Dylan Arm Chairs (${selectedColor})`,
          productTitle: "Dylan Arm Chairs",
          productDetails: {
            name: "Dylan Arm Chairs",
            title: "Dylan Arm Chairs",
            color: selectedColor,
            price: product.basePrice,
            image: selectedColorImage,
            quantity: quantity
          },
          quantity: quantity,
          color: selectedColor,
          deliveryOption: document.querySelector('input[name="delivery"]:checked').value,
          deliveryCost: deliveryFee,
          total: totalPrice,
          timestamp: new Date().toISOString()
        };
        
        // Save order to localStorage and server
        saveOrderWithRealTimeUpdate(order);
        
        // Show thank you message
        orderForm.style.display = 'none';
        thankYou.style.display = 'block';
      });
      
      // Helper function to save order with real-time update
      function saveOrderWithRealTimeUpdate(order) {
        // Save to localStorage
        let orders = JSON.parse(localStorage.getItem('orders') || '[]');
        orders.push(order);
        localStorage.setItem('orders', JSON.stringify(orders));
        
        // Send to server for real-time update
        fetch('/api/orders', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Cache-Control': 'no-cache'
          },
          body: JSON.stringify(order)
        })
        .then(response => response.json())
        .then(data => {
          console.log('Order saved to server:', data);
          
          // Connect to Socket.IO if not already connected
          if (typeof io !== 'undefined') {
            const socket = io();
            // Emit the order event for real-time updates
            socket.emit('new-order', {
              order: order,
              isNew: true,
              timestamp: new Date().toISOString()
            });
          }
        })
        .catch(error => {
          console.error('Error saving order to server:', error);
          // Order is still saved in localStorage
        });
        
        // Also use saveOrder from order-utils.js if available
        if (typeof window.saveOrder === 'function') {
          window.saveOrder(order);
        }
      }
      
      // Update basket count
      function updateBasketCount() {
        // Use the 'basket' localStorage key as used in basket.js, not 'basketItems'
        const basket = JSON.parse(localStorage.getItem('basket') || '[]');
        const totalItems = basket.reduce((total, item) => total + item.quantity, 0);
        document.querySelector('.basket-count').textContent = totalItems;
        
        // Show or hide the count based on whether there are items
        document.querySelector('.basket-count').style.display = totalItems > 0 ? 'flex' : 'none';
      }
      
      // Initial basket count update
      updateBasketCount();
      
      // Function to migrate any items from old basketItems to new basket format
      function migrateBasketItems() {
        const oldBasketItems = JSON.parse(localStorage.getItem('basketItems') || '[]');
        
        if (oldBasketItems.length > 0) {
          const newBasket = JSON.parse(localStorage.getItem('basket') || '[]');
          
          // Add items from old format to new format
          oldBasketItems.forEach(item => {
            // Create configId as expected by basket.js
            const configId = `${item.id}-${item.color || ''}-${item.sideFacing || ''}-${item.extraSeats || 0}`;
            
            // Check if item already exists in new basket
            const existingItemIndex = newBasket.findIndex(basketItem => 
              basketItem.configId === configId
            );
            
            if (existingItemIndex > -1) {
              // Item exists, update quantity
              newBasket[existingItemIndex].quantity += item.quantity;
            } else {
              // Add new item with proper format
              newBasket.push({
                id: item.id,
                configId: configId,
                name: item.name,
                price: item.price,
                image: item.image,
                quantity: item.quantity,
                extraSeats: item.extraSeats || 0,
                color: item.color || '',
                sideFacing: item.sideFacing || ''
              });
            }
          });
          
          // Save updated basket
          localStorage.setItem('basket', JSON.stringify(newBasket));
          
          // Clear old basket format
          localStorage.removeItem('basketItems');
          
          // Update UI
          updateBasketCount();
        }
      }
      
      // Migrate old basketItems to new basket format if needed
      migrateBasketItems();
      
      // Initialize price display
      updateTotalPrice();
      
      // Initialize data attributes for basket.js
      addToCartBtn.setAttribute('data-color', selectedColor);
      addToCartBtn.setAttribute('data-quantity', quantity);

      // Delivery option change
      const deliveryRadios = document.querySelectorAll('input[name="delivery"]');
      deliveryRadios.forEach(option => {
        option.addEventListener('change', function() {
          const deliveryFee = this.value === 'standard' ? 30 : 50;
          // Update total price in the delivery options section
          const productTotal = product.basePrice * quantity;
          const finalTotal = productTotal + deliveryFee;
          
          // Update in summary if available
          if (document.getElementById('summaryTotal')) {
            document.getElementById('summaryDelivery').textContent = this.value === 'standard' ? 'Standard (£30)' : 'Premium (£50)';
            document.getElementById('summaryTotal').textContent = `£${finalTotal}`;
          }
        });
      });
    });
  </script>
</body>
</html>
